# =============================================================================
# PetShop - Variáveis de Ambiente
# =============================================================================
# Copie este arquivo para .env e configure as variáveis conforme seu ambiente
#
# Uso:
#   cp .env.example .env
#   # Edite o .env com suas credenciais
#   docker compose up -d
# =============================================================================

# -----------------------------------------------------------------------------
# AZURE SQL DATABASE (Produção)
# -----------------------------------------------------------------------------
# Configure estas variáveis para conectar ao Azure SQL Database
# Se não configuradas, os backends Java usarão H2 em memória

# String de conexão JDBC completa para Azure SQL
# Formato: jdbc:sqlserver://<server>.database.windows.net:1433;database=<db>;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;
AZURE_SQL_JDBC_URL=jdbc:h2:mem:petshop;DB_CLOSE_DELAY=-1

# Credenciais do Azure SQL
AZURE_SQL_USERNAME=sa
AZURE_SQL_PASSWORD=

# Driver e Dialeto (não altere para Azure SQL)
AZURE_SQL_DRIVER=org.h2.Driver
AZURE_SQL_DIALECT=org.hibernate.dialect.H2Dialect

# Para PRODUÇÃO com Azure SQL, use:
# AZURE_SQL_JDBC_URL=jdbc:sqlserver://seu-servidor.database.windows.net:1433;database=petshop;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;
# AZURE_SQL_USERNAME=seu-usuario
# AZURE_SQL_PASSWORD=sua-senha
# AZURE_SQL_DRIVER=com.microsoft.sqlserver.jdbc.SQLServerDriver
# AZURE_SQL_DIALECT=org.hibernate.dialect.SQLServerDialect

# String de conexão para ASP.NET Core
# Formato: Server=tcp:<server>.database.windows.net,1433;Initial Catalog=<db>;Persist Security Info=False;User ID=<user>;Password=<pass>;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;
AZURE_SQL_CONNECTION_STRING=Data Source=petshop.db

# Para PRODUÇÃO com Azure SQL, use:
# AZURE_SQL_CONNECTION_STRING=Server=tcp:seu-servidor.database.windows.net,1433;Initial Catalog=petshop;Persist Security Info=False;User ID=seu-usuario;Password=sua-senha;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;

# -----------------------------------------------------------------------------
# JWT (JSON Web Token)
# -----------------------------------------------------------------------------
# Secret key para assinatura de tokens JWT
# IMPORTANTE: Em produção, use uma chave forte e única!
JWT_SECRET=petshop-jwt-secret-key-desenvolvimento-local-2024

# -----------------------------------------------------------------------------
# SPRING PROFILE
# -----------------------------------------------------------------------------
# dev: H2 em memória (desenvolvimento)
# prod: Azure SQL Database (produção)
SPRING_PROFILE=prod

# -----------------------------------------------------------------------------
# JAVA OPTIONS
# -----------------------------------------------------------------------------
JAVA_OPTS=-Xms256m -Xmx512m

# -----------------------------------------------------------------------------
# ASP.NET CORE
# -----------------------------------------------------------------------------
ASPNETCORE_ENVIRONMENT=Production

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Origens permitidas para requisições cross-origin
CORS_ALLOWED_ORIGINS=http://localhost,http://localhost:80,http://localhost:8081

# -----------------------------------------------------------------------------
# PORTAS DOS SERVIÇOS (Referência - não modificar)
# -----------------------------------------------------------------------------
# Frontends:
#   - Web (Nginx):      80
#   - Mobile (Expo):    8081
#
# Backends Monolíticos:
#   - Spring Boot:      8080
#   - ASP.NET Core:     5000
#
# Microsserviços C# (Azure Functions - via func start):
#   - Auth:             7071
#   - Catalog:          7072
#   - Customers:        7073
#   - Orders:           7074
#   - Pets:             7075
#   - Scheduling:       7076
#
# Microsserviços Java (Docker):
#   - Auth:             7081
#   - Catalog:          7082
#   - Customers:        7083
#   - Orders:           7084
#   - Pets:             7085
#   - Scheduling:       7086
